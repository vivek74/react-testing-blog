(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){e.exports={avatar:"Homepage_avatar__8u6Cv",noSpace:"Homepage_noSpace__15HlR",bold:"Homepage_bold__26atZ",fadeColor:"Homepage_fadeColor__2UJ2Y",noSpaceBold:"Homepage_noSpaceBold__1i5Qd",nextBtn:"Homepage_nextBtn__3y-98",deleteBtn:"Homepage_deleteBtn__3Nsyo"}},228:function(e,t,a){e.exports=a(409)},401:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),i=a(19),c=a(88),s=a(194),m=a(47),u=a(165),d=a(195),g=a(37),p=a(18),E=a(44),f=a.n(E),b=function(e){e?f.a.defaults.headers.common.Authorization=e:delete f.a.defaults.headers.common.Authorization},O=a(106),y=a.n(O),h=function(e){return{type:"SET_CURRENT_USER",payload:e}},v=function(){return function(e){localStorage.removeItem("jwtToken"),b(!1),e(h({}))}},_=a(254),j={isAuthenticated:!1,user:{},loading:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(p.a)({},e,{isAuthenticated:!_(t.payload),user:t.payload});case"START_LOADING":return Object(p.a)({},e,{loading:!0});case"STOP_LOADING":return Object(p.a)({},e,{loading:!1});default:return e}},D={},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},L={error:{},data:{},loading:!1,errMsg:!1,successMsg:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"REGISTER_USER_FULFILLED":var n=t.payload.status;return 200===n?a=Object(p.a)({},e,{error:t.payload.data,loading:!1,errMsg:!0}):201===n&&(a=Object(p.a)({},e,{data:t.payload.data,loading:!1,successMsg:!0})),a;case"REGISTER_USER_PENDING":return a=Object(p.a)({},e,{loading:!0});case"MSG_STATE_ERROR":return a=Object(p.a)({},e,{errMsg:!1});case"MSG_STATE_SUCCESS":return a=Object(p.a)({},e,{successMsg:!1});default:return a}},T={loading:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"COMP_LOADING_FULFILLED":return a=Object(p.a)({},e,{loading:!1});case"COMP_LOADING_PENDING":return a=Object(p.a)({},e,{loading:!0});default:return a}},G={data:[],loading:!0,addLoading:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"GET_BLOGS_FULFILLED":return a=Object(p.a)({},e,{data:t.payload.data,loading:!1});case"GET_BLOGS_PENDING":return a=Object(p.a)({},e,{loading:!0});case"ADD_BLOGS_FULFILLED":return a=Object(p.a)({},e,{data:t.payload.data,addLoading:!1,loading:!1});case"ADD_BLOGS_PENDING":return a=Object(p.a)({},e,{addLoading:!0,loading:!0});case"DELETE_BLOG_FULFILLED":return a=Object(p.a)({},e,{data:t.payload.data,loading:!1});case"DELETE_BLOG_PENDING":return a=Object(p.a)({},e,{loading:!0});default:return a}},x={data:[],loading:!0},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"FETCH_ONE_BLOG_FULFILLED":return a=Object(p.a)({},e,{data:t.payload.data,loading:!1});case"FETCH_ONE_BLOG_PENDING":return a=Object(p.a)({},e,{loading:!0});case"EDIT_BLOG_FULFILLED":return a=Object(p.a)({},e,{data:t.payload.data,loading:!1});case"EDIT_BLOG_PENDING":return a=Object(p.a)({},e,{loading:!0});default:return a}},C=Object(g.a)(),F=[],R=[d.a,s.a,Object(u.a)(C)],A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d;F.push(A());var U,k=m.d.apply(void 0,[m.a.apply(void 0,R)].concat(F)),M=Object(m.e)((U=C,Object(m.c)({authData:S,error:w,registerData:N,componentLoading:I,allBlogs:B,oneBlogData:P,router:Object(c.b)(U)})),k),q=a(23),H=a(443),J=(a(123),a(75)),z=(a(80),a(27)),Y=(a(81),a(21)),W=(a(92),a(11)),V=a(197),X=a.n(V),Q=a(89),Z=a(77),$=a.n(Z),K=a(432),ee=a(434),te=a(435),ae=a(438),ne=a(439),re=a(436),le=a(437),oe=a(119),ie=a(433),ce=a(205),se=a.n(ce),me=a(198),ue=a.n(me),de=Object(K.a)(function(e){return{card:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},avatar:{margin:10,color:"#fff",backgroundColor:ie.a[500]}}}),ge=function(e){var t=de();return r.a.createElement(ee.a,{className:t.card},r.a.createElement(te.a,{avatar:r.a.createElement(re.a,{"aria-label":"Recipe",className:t.avatar},r.a.createElement(ue.a,null)),action:r.a.createElement(le.a,{"aria-label":"Settings"},r.a.createElement(se.a,null)),title:e.title,subheader:e.date}),r.a.createElement(ae.a,{className:t.media,image:e.imageUrl,title:e.title}),r.a.createElement(ne.a,null,r.a.createElement(oe.a,{variant:"body2",color:"textSecondary",component:"p"},e.blogContent)),r.a.createElement(ne.a,null,e.children))},pe=a(107),Ee=a.n(pe),fe=a(151),be=a.n(fe),Oe=function(){var e=Object(i.d)();$.a.globalFormat="D MMM YYYY";var t=r.a.createElement(W.a,{type:"loading",style:{fontSize:50},spin:!0}),a=Object(i.e)(function(e){return e.allBlogs.data}),l=Object(i.e)(function(e){return e.allBlogs.loading}),o=Object(i.e)(function(e){return e.authData.isAuthenticated});Object(n.useEffect)(function(){e({type:"GET_BLOGS",payload:f.a.get("http://localhost:5000/api/blog/blogs")})},[o]);var c=function(t){var a;e((a=t,{type:"DELETE_BLOG",payload:f.a.delete("http://localhost:5000/api/blog/blogs/".concat(a))}))},s=a.map(function(e){return r.a.createElement(Y.a,{style:{marginBottom:"30px"},key:e._id,xs:24,sm:12,md:12,lg:8,xl:8},r.a.createElement(Ee.a,null,r.a.createElement(ge,{imageUrl:e.imageUrl,title:e.title,date:r.a.createElement($.a,null,e.date),blogContent:r.a.createElement(X.a,{limit:200},e.blogContent)},o?r.a.createElement(W.a,{className:be.a.deleteBtn,type:"delete",onClick:function(){return c(e._id)}}):r.a.createElement("p",{style:{display:"inline",color:"red",fontSize:"10px"}},"LOGIN TO DELETE"),r.a.createElement(Q.a,{to:e._id},r.a.createElement("p",{className:be.a.nextBtn},"Show more ",r.a.createElement(W.a,{type:"double-right"}))))))});return r.a.createElement("div",null,r.a.createElement(J.a,{style:{position:"fixed",top:"20%"},indicator:t,spinning:l},r.a.createElement(z.a,{type:"flex",justify:"space-between"},s)))},ye=(a(342),a(216)),he=(a(189),a(114)),ve=(a(86),a(32)),_e=(a(143),a(22)),je=a(48),Se=(a(144),a(36)),De=a(441),we=a(442),Le=a(440),Ne=Se.a.TextArea,Te=Object(K.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},list:{width:250},fullList:{width:"auto"}}}),Ie=Object(q.f)(_e.a.create({name:"login"})(function(e){var t=e.form,a=t.getFieldDecorator,l=r.a.createElement(W.a,{type:"loading",style:{fontSize:40},spin:!0}),o=Te(),c=Object(i.d)(),s=Object(n.useState)({visible:!1}),m=Object(je.a)(s,2),u=m[0],d=m[1],g=Object(n.useState)(!1),E=Object(je.a)(g,2),O=E[0],_=E[1],j=Object(n.useState)(!1),S=Object(je.a)(j,2),D=S[0],w=S[1],L=Object(n.useState)({errors:{}}),N=Object(je.a)(L,2),T=N[0],I=N[1],G=Object(i.e)(function(e){return e.allBlogs.addLoading}),B=Object(i.e)(function(e){return e.authData.loading}),x=Object(i.e)(function(e){return e.authData.isAuthenticated}),P=Object(i.e)(function(e){return e.error});Object(n.useEffect)(function(){x&&(d(Object(p.a)({},u,{visible:!1})),I(Object(p.a)({},T,{errors:{}})),_(!1),t.resetFields()),P&&(I(Object(p.a)({},T,{errors:P})),t.resetFields())},[x,P]);var C=r.a.createElement("div",null,x?r.a.createElement("div",null,r.a.createElement(Le.a,{onClick:function(){w(!0)},color:"inherit"},"ADD BLOG"),r.a.createElement(Le.a,{onClick:function(){return c({type:"START_LOADING"}),c(v()),void c({type:"STOP_LOADING"})},color:"inherit"},"LOGOUT")):r.a.createElement(Le.a,{onClick:function(){d(Object(p.a)({},u,{visible:!0}))},color:"inherit"},"LOGIN"));return r.a.createElement("div",{className:o.root},r.a.createElement(De.a,{position:"fixed"},r.a.createElement(we.a,null,r.a.createElement(oe.a,{variant:"h6",style:{color:"white"},className:o.title},r.a.createElement(Q.a,{style:{color:"white"},to:"/"},"TECH BLOG")),C)),r.a.createElement(he.a,{title:"Add New Blog",visible:D,onCancel:function(){w(!1)},footer:null},r.a.createElement(_e.a,{onSubmit:function(e){e.preventDefault(),t.validateFields(["title","imageUrl","blogContent"],function(e,a){var n;e||(c((n=a,{type:"ADD_BLOGS",payload:f.a.post("http://localhost:5000/api/blog/newBlog",n)})),t.resetFields(),w(!1))})},className:"login-form"},r.a.createElement(z.a,null,r.a.createElement(Y.a,{span:24},r.a.createElement(_e.a.Item,{label:"Title"},a("title",{rules:[{required:!0,message:"Please enter a Title"}]})(r.a.createElement(Se.a,{placeholder:"Title"}))))),r.a.createElement(z.a,null,r.a.createElement(Y.a,{span:24},r.a.createElement(_e.a.Item,{label:"Image url"},a("imageUrl",{rules:[{required:!0,message:"Please enter image url"}]})(r.a.createElement(Se.a,{placeholder:"Image Url"}))))),r.a.createElement(z.a,null,r.a.createElement(Y.a,{span:24},r.a.createElement(_e.a.Item,{label:"Blog Content"},a("blogContent",{rules:[{required:!0,message:"Please enter blog"}]})(r.a.createElement(Ne,{rows:4,placeholder:"Blog content"}))))),r.a.createElement(ve.a,{type:"primary",loading:G,block:!0,htmlType:"submit",className:"login-form-button"},"Submit"))),r.a.createElement(ye.a,{style:{zIndex:"1200"},title:"LOGIN",width:"35%",onClose:function(){d(Object(p.a)({},u,{visible:!1}))},visible:u.visible,closable:!0},r.a.createElement(J.a,{spinning:O,indicator:l},r.a.createElement("p",{style:{textAlign:"center",textTransform:"uppercase",color:"red"}},T.errors.passwordincorrect),r.a.createElement("p",{style:{textAlign:"center",textTransform:"uppercase",color:"red"}},T.errors.emailnotfound),r.a.createElement(_e.a,{onSubmit:function(e){e.preventDefault(),t.validateFields(["email","password"],function(e,t){if(!e){var a=function(){return new Promise(function(e){var a;e(c((a=t,function(e){f.a.post("http://localhost:5000/api/users/login",a).then(function(t){var a=t.data.token;localStorage.setItem("jwtToken",a),b(a);var n=y()(a);e(h(n))}).catch(function(t){return e({type:"GET_ERRORS",payload:t.response.data})})})))})};new Promise(function(e){e(c({type:"START_LOADING"}))}).then(function(){return a()}).then(function(){return new Promise(function(e){e(c({type:"STOP_LOADING"}))})})}})},className:"login-form"},r.a.createElement(_e.a.Item,null,a("email",{rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"The input is not valid E-mail!"}]})(r.a.createElement(Se.a,{prefix:r.a.createElement(W.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(_e.a.Item,null,a("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(Se.a,{prefix:r.a.createElement(W.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(ve.a,{type:"primary",onClick:function(){_(!0)},loading:B,block:!0,htmlType:"submit",className:"login-form-button"},"Log in"),r.a.createElement("div",{style:{padding:"2px"}},"Or ",r.a.createElement(Q.a,{to:"/register"},"register now!"))))))})),Ge=(a(401),function(e){var t=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{history:t}),r.a.createElement(H.a,null,r.a.createElement(Oe,null)))}),Be=(a(410),a(215)),xe=(a(404),a(153)),Pe=_e.a.create({name:"registration"})(function(e){var t=e.form,a=e.history,l=Object(i.d)(),o=t.getFieldDecorator,c=Object(n.useState)({confirmDirty:!1}),s=Object(je.a)(c,2),m=s[0],u=s[1],d=Object(i.e)(function(e){return e.registerData.loading}),g=Object(i.e)(function(e){return e.registerData.error.email}),E=Object(i.e)(function(e){return e.registerData.data.name}),b=Object(i.e)(function(e){return e.registerData.errMsg}),O=Object(i.e)(function(e){return e.registerData.successMsg});Object(n.useEffect)(function(){b?(y(),l({type:"MSG_STATE_ERROR"})):O&&(h(),l({type:"MSG_STATE_SUCCESS"}),t.resetFields(),a.push("/"))},[!0===d]);var y=function(){g.length&&xe.a.error("".concat(g))},h=function(){new Promise(function(e){e(xe.a.success("Welcome ".concat(E,", Please login to continue"),8))}).then(function(){return new Promise(function(e){e(l({type:"COMP_LOADING_PENDING"}))})}).then(function(){return new Promise(function(e){e(l({type:"COMP_LOADING_FULFILLED"}))})})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,null),r.a.createElement(H.a,null,r.a.createElement(z.a,{type:"flex",justify:"center"},r.a.createElement(Y.a,{xs:24,sm:24,md:12,lg:12,xl:12},r.a.createElement(Be.a,null,r.a.createElement("h2",{style:{textAlign:"center",fontWeight:"bold"}},"Welcome to 3D world"),r.a.createElement("p",null,"Please Register to continue"),r.a.createElement(_e.a,{onSubmit:function(e){e.preventDefault(),t.validateFields(function(e,t){var a;e||l((a=t,{type:"REGISTER_USER",payload:f.a.post("http://localhost:5000/api/users/register",a)}))})},className:"login-form"},r.a.createElement(_e.a.Item,{label:"Name",hasFeedback:!0},o("name",{rules:[{required:!0,message:"Please input your name!"}]})(r.a.createElement(Se.a,{prefix:r.a.createElement(W.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Name"}))),r.a.createElement(_e.a.Item,{label:"Email",hasFeedback:!0},o("email",{rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"The input is not valid E-mail!"}]})(r.a.createElement(Se.a,{prefix:r.a.createElement(W.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(_e.a.Item,{label:"Password",hasFeedback:!0},o("password",{rules:[{required:!0,message:"Please input your password!"},{validator:function(e,a,n,r){a&&m.confirmDirty&&t.validateFields(["confirm"],{force:!0}),n()}},{min:6,message:"Password must be of 6 letters"}]})(r.a.createElement(Se.a.Password,{prefix:r.a.createElement(W.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Password"}))),r.a.createElement(_e.a.Item,{label:"Confirm Password",hasFeedback:!0},o("password2",{rules:[{required:!0,message:"Please confirm your password!"},{validator:function(e,a,n,r){a&&a!==t.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()}},{min:6,message:"Password must be of 6 letters"}]})(r.a.createElement(Se.a.Password,{onBlur:function(e){var t=e.target.value;u(Object(p.a)({},m,{confirmDirty:m.confirmDirty||!!t}))},prefix:r.a.createElement(W.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Confirm password"}))),r.a.createElement(ve.a,{type:"primary",block:!0,loading:d,htmlType:"submit",className:"login-form-button"},"Register")))))))}),Ce=a(446),Fe=a(444),Re=a(445),Ae=Object(K.a)({card:{maxWidth:"85%"},media:{height:400}}),Ue=function(e){var t=Ae();return r.a.createElement(ee.a,{style:{display:"block",margin:"0 auto"},className:t.card},r.a.createElement(Fe.a,null,r.a.createElement(ae.a,{className:t.media,image:e.imageUrl,title:e.title}),r.a.createElement(ne.a,null,r.a.createElement(oe.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.title),r.a.createElement(oe.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.date),r.a.createElement(oe.a,{variant:"body2",color:"textSecondary",component:"p"},e.blogContent))),r.a.createElement(Re.a,null,e.children))},ke=Se.a.TextArea,Me=Object(K.a)(function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}),qe=_e.a.create({name:"editform"})(function(e){var t=e.match,a=e.form,l=Object(i.d)(),o=a.getFieldDecorator,c=Me();$.a.globalFormat="D MMM YYYY";var s=r.a.createElement(W.a,{type:"loading",style:{fontSize:50},spin:!0}),m=Object(i.e)(function(e){return e.authData.isAuthenticated});Object(n.useEffect)(function(){var e,a=t.params.id;l((e=a,{type:"FETCH_ONE_BLOG",payload:f.a.get("http://localhost:5000/api/blog/".concat(e))}))},[m]);var u=Object(i.e)(function(e){return e.oneBlogData.data}),d=Object(i.e)(function(e){return e.oneBlogData.data.date}),g=r.a.createElement($.a,null,d),p=Object(i.e)(function(e){return e.oneBlogData.loading}),E=Object(n.useState)(!1),b=Object(je.a)(E,2),O=b[0],y=b[1];return r.a.createElement("div",null,r.a.createElement(Ie,null),r.a.createElement(H.a,{style:{paddingBottom:"60px"}},r.a.createElement(J.a,{style:{position:"fixed",top:"20%"},indicator:s,spinning:p},r.a.createElement(Ee.a,null,r.a.createElement(Ue,{imageUrl:u.imageUrl,title:u.title,blogContent:u.blogContent,date:g},m?r.a.createElement(Ce.a,{onClick:function(){return y(!0)},color:"secondary","aria-label":"Edit",className:c.fab},r.a.createElement(W.a,{style:{fontSize:"20px"},type:"edit"})):r.a.createElement("p",{style:{display:"inline",color:"red",fontSize:"10px"}},"LOGIN TO EDIT")))),r.a.createElement(he.a,{title:"Add New Blog",visible:O,onCancel:function(){y(!1)},footer:null},r.a.createElement(_e.a,{onSubmit:function(e){e.preventDefault(),a.validateFields(["title","imageUrl","blogContent"],function(e,a){var n,r;e||(l((n=a,r=t.params.id,{type:"EDIT_BLOG",payload:f.a.put("http://localhost:5000/api/blog/blogs/".concat(r),n)})),y(!1))})},className:"login-form"},r.a.createElement(z.a,null,r.a.createElement(Y.a,{span:24},r.a.createElement(_e.a.Item,{label:"Title"},o("title",{initialValue:u.title,rules:[{required:!0,message:"Please enter a Title"}]})(r.a.createElement(Se.a,null))))),r.a.createElement(z.a,null,r.a.createElement(Y.a,{span:24},r.a.createElement(_e.a.Item,{label:"Image url"},o("imageUrl",{initialValue:u.imageUrl,rules:[{required:!0,message:"Please enter image url"}]})(r.a.createElement(Se.a,null))))),r.a.createElement(z.a,null,r.a.createElement(Y.a,{span:24},r.a.createElement(_e.a.Item,{label:"Blog Content"},o("blogContent",{initialValue:u.blogContent,rules:[{required:!0,message:"Please enter blog"}]})(r.a.createElement(ke,{rows:4}))))),r.a.createElement(ve.a,{type:"primary",block:!0,htmlType:"submit",className:"login-form-button"},"Submit")))))});if(localStorage.jwtToken){var He=localStorage.jwtToken;b(He);var Je=y()(He);M.dispatch(h(Je));var ze=Date.now()/1e3;Je.exp<ze&&(M.dispatch(v()),window.location.href="./register")}var Ye=Object(q.f)(function(){return r.a.createElement(q.c,null,r.a.createElement(q.a,{exact:!0,path:"/",component:Ge}),r.a.createElement(q.a,{exact:!0,path:"/register",component:Pe}),r.a.createElement(q.a,{exact:!0,path:"/:id",component:qe}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:M},r.a.createElement(c.a,{history:C},r.a.createElement(Ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[228,1,2]]]);
//# sourceMappingURL=main.aa1be340.chunk.js.map